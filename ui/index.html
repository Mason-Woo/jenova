<html>
    <head>
        <link rel="stylesheet" type="text/css" href="static/style.css">
    </head>
    <body>
        <h1>Bot Interface</h1>
        <hr/>
        <p>
            Type something or click the speak icon
            <button id="audio" onclick="add_command('audio');startDictation()">Speak</button>
        </p>
        <p>
            <div>
                <select id="lang" onchange="handleLanguageChange(event)">
                    <option value="default">Default (English US)</option>
                    <option value="japanese">Japanese (Japanese)</option>
                    <option value="test">Test (English US)</option>
                </select>
            </div>
        </p>
        <hr/>

        <p>
            <ul id="response" class="shell-body theme-light">
            </ul>
        </p>


        <p>
            <input type="file" onchange="imageChange(event)" />
            <div id="preview"></div>
        </p>
    
        <button onclick="run_streamer()">start streamer</button>
        <button onclick="toggle_detection()">toggle detection</button>
        <div id="streamer">
            <div id="streamer_image"></div>
            <div id="streamer_box"></div>
        </div>

        <script src="https://code.jquery.com/jquery-1.12.4.min.js"
                integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
                crossorigin="anonymous"></script>

        <script src="static/bot.js"></script>
        <script src="static/detect.js"></script>

        <script type="text/javascript">
            SERVER_URL = 'http://localhost:8080/msg';
            window.VISION_URL = 'http://localhost:8082/msg';
            window.LANG = "en-US";
            window.DATA_NANE = "default";
            window.BOT_VERSION = "0.1";
            window.ENABLE_TTS = false;
            window.STREAM_URL = 'http://localhost:8080/?action=snapshot';
            window.DETECTION_DELAY = 450;
            window.DETECTION_ENABLED = true;
            
            function handleLanguageChange(event) {
                DATA_NANE = $('#lang').val();
                if (DATA_NANE == 'default')
                    LANG = 'en-US';
                else if (DATA_NANE == 'test')
                    LANG == 'en-US';
                else if (DATA_NANE == 'japanese')
                    LANG == 'ja-JP';
            }

            add_response("Bot Interface - v" + BOT_VERSION, true);
            add_response("Type <b>help</b> for all available commands");
        </script>
    </body>
</html>